## [ğŸ‘¿](https://school.programmers.co.kr/learn/courses/30/lessons/64064) [pg64064] ë¶ˆëŸ‰ ì‚¬ìš©ì

> **ì†Œìš” ì‹œê°„: 35ë¶„<br>
> ë©”ëª¨ë¦¬: --KB<br>
> ì‹œê°„: --ms**
## ë¬¸ì œ ì ‘ê·¼
- ìµœëŒ€ ê°œìˆ˜ê°€ 8ê°œë¼ì„œ ë¹„íŠ¸ë§ˆìŠ¤í‚¹ì„ ì´ìš©í•˜ë¼ëŠ” ë¬¸ì œêµ¬ë‚˜! í–ˆì§€ë§Œ, ê·€ì°®ì•˜ë‹¤.. ë¹„íŠ¸ë§ˆìŠ¤í‚¹ ì‹«ì–´.!ğŸ˜–
- ì‚¬ìš©ì ì•„ì´ë”” ëª©ë¡ê³¼ ì œì¬ ì•„ì´ë”” ëª©ë¡ì„ ë¹„êµí•´ì„œ ì œì¬ ì•„ì´ë”” í›„ë³´ë¥¼ ì„ ì •í•œë‹¤.
- í›„ë³´ê°€ 1ëª…ì¸ ì œì¬ ì•„ì´ë””ê°€ ìˆë‹¤ë©´ ë‚˜ë¨¸ì§€ ì œì¬ ì•„ì´ë””ì—ì„œ í•´ë‹¹ ì‚¬ìš©ì ì•„ì´ë””ë¥¼ ì œê±°í•œë‹¤. (* í•„ìˆ˜ ì‚¬í•­ì€ ì•„ë‹Œë° ì‹œê°„ì„ ì¤„ì¼ ìˆ˜ ìˆì§€ ì•Šì„ê¹Œ ìƒê°í•´ì„œ ë„£ì—ˆë‹¤)
- DFSë¥¼ ì´ìš©í•˜ì—¬ ë¶ˆëŸ‰ ì‚¬ìš©ìë¥¼ ì„ ì •í•œë‹¤. 
	- `ì œì¬ ì•„ì´ë”” ëª©ë¡ë“¤ì„ êµ¬í–ˆì„ ë•Œ ì•„ì´ë””ë“¤ì´ ë‚˜ì—´ëœ ìˆœì„œì™€ ê´€ê³„ì—†ì´ ì•„ì´ë”” ëª©ë¡ì˜ ë‚´ìš©ì´ ë™ì¼í•˜ë‹¤ë©´ ê°™ì€ ê²ƒìœ¼ë¡œ ì²˜ë¦¬í•˜ì—¬ í•˜ë‚˜ë¡œ ì„¸ë©´ ë©ë‹ˆë‹¤.` ë¼ëŠ” ì¡°ê±´ì´ ìˆë‹¤. 
	- ì´ëŠ” `Set`ì„ ì‚¬ìš©í•˜ì—¬ ë¶ˆëŸ‰ ì‚¬ìš©ì ì¸ë±ìŠ¤ ë²ˆí˜¸ë¥¼ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•˜ì—¬ ë¬¸ìì—´ë¡œ ë§Œë“¤ì–´ ì €ì¥í•˜ê³ , ë§ˆì§€ë§‰ì— `set`ì˜ í¬ê¸°ë¥¼ ë¦¬í„´í•˜ëŠ” ê²ƒìœ¼ë¡œ í•´ê²°í•˜ì˜€ë‹¤.

## ì „ì²´ ì½”ë“œ
```java
import java.util.Set;
import java.util.HashSet;

class Solution {
    boolean[][] candidate_check;
    int U, B;
    boolean[] visited;
    Set<String> set;
    
    public int solution(String[] user_id, String[] banned_id) {
        U = user_id.length;
        B = banned_id.length;
        candidate_check = new boolean[U][B];
        visited = new boolean[U];
        set = new HashSet<>();
        
        checkCandidate(user_id, banned_id);        
        countCandidate(0);
        return set.size();
    }
    
    void countCandidate(int b){
        if(b==B){
            StringBuilder sb = new StringBuilder();
            for(int u=0; u<U; u++){
                if(visited[u]){
                    sb.append(u);
                }
            }
            set.add(sb.toString());
            return;
        }
        
        for(int u=0; u<U; u++){
            if(!visited[u] && candidate_check[u][b]){
                visited[u] = true;
                countCandidate(b+1);
                visited[u] = false;
            }
        }
    }
    
    void checkCandidate(String[] user_id, String[] banned_id){
        int[] candidate_count= new int[B];
        for(int b=0; b<B; b++){
            next: for(int u=0; u<U; u++){
                if(banned_id[b].length() == user_id[u].length()){
                    for(int i=0; i<user_id[u].length(); i++){
                        if(banned_id[b].charAt(i) != '*' && 
                           banned_id[b].charAt(i) != user_id[u].charAt(i)){
                            continue next;
                        }
                    }
                    candidate_check[u][b] = true;
                    candidate_count[b]++;
                }
            }
        }
        
        boolean changed = true;
        while(changed){
            changed = false;
            for(int i=0; i<B; i++){
                if(candidate_count[i]==1){
                    int u = 0;
                    for(int j=0; j<U; j++){
                        if(candidate_check[j][i]){
                            u=j;
                            break;
                        }
                    }
                    
                    for(int b=0; b<B; b++){
                        if(i!=b && candidate_check[u][b]){
                            candidate_check[u][b] = false;
                            candidate_count[b]--;
                            changed = true;
                        }
                    }
                }
            }
        }
    }
}
```
