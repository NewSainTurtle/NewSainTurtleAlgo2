## [π…](https://school.programmers.co.kr/learn/courses/30/lessons/150368) [pg150368] μ΄λ¨ν‹°μ½ ν• μΈν–‰μ‚¬

> **μ†μ” μ‹κ°„: 80λ¶„<br>
> λ©”λ¨λ¦¬: β€”KB<br>
> μ‹κ°„: β€”ms**

## λ¬Έμ  μ ‘κ·Ό

* μμ—΄μ„ μ΄μ©ν• λΈλ£¨νΈν¬μ¤ λ°©μ‹μΌλ΅ ν’€μ—λ‹¤.

## λ¬Έμ  ν’€μ΄

1. `emoticon_cost_arr`μ— μ΄λ¨ν‹°μ½λ³„ 10~40%ν• μΈ κ°€κ²©μ„ κ³„μ‚°ν•΄ μ €μ¥ν•λ‹¤. 
2. `users_info`μ— μ‚¬μ©μλ³„ κµ¬λ§¤ κ°€λ¥ν• μ΄λ¨ν‹°μ½ ν• μΈ μ»·μ„ κ³„μ‚°ν•΄ μ €μ¥ν•κ³ , κµ¬λ§¤ λΉ„μ© μ»·μ„ μ €μ¥ν•λ‹¤.
   1. μ΄λ¨ν‹°μ½ ν• μΈ μ»·: 10μΌλ΅ μ¬λ¦Όν•μ—¬ λ‚λ λ«μ„ μ €μ¥
3. `makeDiscount` λ©”μ†λ“μ—μ„λ” κ° μ΄λ¨ν‹°μ½μ ν• μΈλΉ„μ¨μ„ μΈλ±μ¤λ΅ `discount`μ— μ €μ¥ν•λ‹¤.
4. `checkUser`μ—μ„λ” `makeDiscount`μ—μ„ λ§λ“  `discount`λ¥Ό μ΄μ©ν•΄ μ΄λ¨ν‹°μ½ ν”λ¬μ¤ κµ¬λ…μ μμ™€ μ΄λ¨ν‹°μ½ νλ§¤ κ°€κ²©μ„ κ³„μ‚°ν•λ‹¤.
   1. κ° μ‚¬μ©μ λ³„λ΅ μ΄λ¨ν‹°μ½μ„ κµ¬λ§¤ λΉ„μ©μ„ κ³„μ‚°ν•λ‹¤. 
   2. μ΄λ• κµ¬λ§¤ λΉ„μ©μ΄ μ‚¬μ©μ κµ¬λ§¤ μ»· μ΄μƒμ΄ λλ” κ²½μ° μ΄λ¨ν‹°μ½ ν”λ¬μ¤ κµ¬λ…μ μλ¥Ό 1 μ¦κ°€μ‹ν‚¤κ³  λ‹¤μ μ‚¬μ©μλ΅ λ„μ–΄κ°„λ‹¤.
   3. μ΄λ¨ν‹°μ½ ν”λ¬μ¤λ¥Ό κµ¬λ…ν•μ§€ μ•μ€ κ²½μ°λ” `total`μ— κµ¬λ§¤ν• μ΄λ¨ν‹°μ½ λΉ„μ©μ„ λ”ν•λ‹¤.
   4. λ¨λ“  μ‚¬μ©μλ¥Ό ν™•μΈν–λ‹¤λ©΄,
      1. μ΄λ¨ν‹°μ½ ν”λ¬μ¤ κµ¬λ…μ μκ°€ `emoticon_plus_user`λ³΄λ‹¤ ν° κ²½μ° `emoticon_plus_user`μ™€ `emoticon_cost`λ¥Ό κ°±μ‹ ν•λ‹¤.
      2. μ΄λ¨ν‹°μ½ ν”λ¬μ¤ κµ¬λ…μ μκ°€ `emoticon_plus_user`μ™€ κ°™κ³ , `total`μ΄ `emoticon_cost`λ³΄λ‹¤ ν° κ²½μ° `emoticon_cost`λ¥Ό κ°±μ‹ ν•λ‹¤.
5. μ™„μ „ νƒμƒ‰μ„ ν†µν•΄ λ¨λ“  ν• μΈ κ²½μ°μ μλ¥Ό ν™•μΈν–λ‹¤λ©΄, `new int[]{emoticon_plus_user, emoticon_cost}`λ¥Ό λ°ν™ν•λ‹¤.

## μ „μ²΄ μ½”λ“

```java
class Solution_pg150368 {
    int[][] emoticon_cost_arr;
    int[][] users_info;
    int[] discount;
    int emoticon_plus_user, emoticon_cost, emoticon_size, user_size;

    public int[] solution(int[][] users, int[] emoticons) {
        emoticon_size = emoticons.length;
        user_size = users.length;

        emoticon_cost_arr = new int[emoticon_size][5];
        for (int i = 0; i < emoticon_size; i++) {
            for (int j = 1; j < 5; j++) {
                emoticon_cost_arr[i][j] = emoticons[i] * (10 - j) / 10;
            }
        }

        users_info = new int[user_size][2];
        for (int i = 0; i < user_size; i++) {
            users_info[i][0] = users[i][0] / 10;
            if (users[i][0] % 10 > 0) users_info[i][0]++;
            users_info[i][1] = users[i][1];
        }


        emoticon_plus_user = 0;
        emoticon_cost = 0;
        discount = new int[emoticon_size];
        makeDiscount(0);
        return new int[]{emoticon_plus_user, emoticon_cost};
    }

    void makeDiscount(int idx) {
        if (idx == emoticon_size) {
            checkUser();
            return;
        }

        for (int i = 1; i <= 4; i++) {
            discount[idx] = i;
            makeDiscount(idx + 1);
        }
    }

    void checkUser() {
        int plus_user = 0, total = 0;

        next:
        for (int i = 0; i < user_size; i++) {
            int discout_cutline = users_info[i][0];
            int cost_cutline = users_info[i][1];
            int cost = 0;
            for (int j = 0; j < emoticon_size; j++) {
                if (discount[j] >= discout_cutline) {

                    if ((cost += emoticon_cost_arr[j][discount[j]]) >= cost_cutline) {
                        plus_user++;
                        continue next;
                    }

                }

            }

            total += cost;
        }

        if (emoticon_plus_user < plus_user) {
            emoticon_plus_user = plus_user;
            emoticon_cost = total;
        } else if (emoticon_plus_user == plus_user && emoticon_cost < total) {
            emoticon_cost = total;
        }

    }
}
```
