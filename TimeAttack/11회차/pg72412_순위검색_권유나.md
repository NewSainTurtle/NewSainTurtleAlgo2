## [ğŸ”](https://school.programmers.co.kr/learn/courses/30/lessons/72412) [pg72412] ìˆœìœ„ ê²€ìƒ‰

> **ì†Œìš” ì‹œê°„: 120ë¶„<br>
> ë©”ëª¨ë¦¬: â€”KB<br>
> ì‹œê°„: â€”ms**

## ë¬¸ì œ ì ‘ê·¼

* ì ìˆ˜ë¥¼ ìµœëŒ€ í¬ê¸°ë¡œ ì •ì˜í•˜ê³  ë¬¸ì œë¥¼ í’€ë‹¤ë³´ë‹ˆ ì‹œê°„ì´ˆê³¼ê°€ ë°œìƒ
* ë°°ì—´ ëŒ€ì‹  ë¦¬ìŠ¤íŠ¸ë¡œ ë³€ê²½í•˜ì—¬, ì…ë ¥ëœ ì •ë³´ì— ëŒ€í•œ ì ìˆ˜ë§Œ ê´€ë¦¬
* ì§€ì›ì ì •ë³´ë¥¼ ì…ë ¥í•  ë•ŒëŠ” `-`ë¥¼ í¬í•¨ì‹œì¼œì„œ 16ê°€ì§€ ê²½ìš°ì˜ ìˆ˜ì— ì§€ì›ì ì ìˆ˜ ë“±ë¡
* ë¬¸ì˜ì¡°ê±´ì— í•´ë‹¹í•˜ëŠ” ì ìˆ˜ ë¦¬ìŠ¤íŠ¸ì—ì„œ ì ìˆ˜ ì¸ë±ìŠ¤ë¥¼ ì´ë¶„íƒìƒ‰ì„ í†µí•´ ì°¾ìŒ
* `ë¦¬ìŠ¤íŠ¸ í¬ê¸° - ì¸ë±ìŠ¤`ë¥¼ í•˜ì—¬ ë¬¸ì˜ ì¡°ê±´ì— ë§ëŠ” ì‚¬ëŒìˆ˜ë¥¼ ê³„ì‚°í•¨

## ì „ì²´ ì½”ë“œ

```java
import java.util.*;
import java.io.*;

class Solution {
    StringBuilder sb = new StringBuilder();
    Map<String,List<Integer>> map;

    public int[] solution(String[] info, String[] query) {
        makeMap();
        int size = map.size();
        int minScore = 100000;
        int maxScore = 1;
        for(String item : info){
            StringTokenizer st = new StringTokenizer(item," ");
            String language = st.nextToken();
            String part = st.nextToken();
            String career = st.nextToken();
            String food = st.nextToken();
            int score = Integer.parseInt(st.nextToken());
            if(score < minScore) minScore = score;
            if(score > maxScore) maxScore = score;
            countingArr(language, part, career, food, score);
        }
        for(Map.Entry<String, List<Integer>> entry: map.entrySet()){
            Collections.sort(entry.getValue());
        }

        int[] answer = new int[query.length];
        for(int q=0; q<query.length; q++){
            String item = query[q].replace("and ", "");
            int score = Integer.parseInt(item.substring(item.lastIndexOf(" ")+1));
            List<Integer> list = map.get(item.substring(0, item.lastIndexOf(" ")));
            int index = binarySearch(list, score);
            answer[q] = list.size()-index;
        }
        return answer;
    }

    int binarySearch(List<Integer> list, int score){
        int start = 0, end = list.size()-1;
        while(start <= end){
            int m = (start+end)/2;
            if(list.get(m) < score){
                start = m+1;
            }else if(list.get(m) > score){
                end = m-1;
            }else if(m == 0 || list.get(m-1) < score){
                return m;
            }else{
                end = m-1;
            }
        }
        return start;
    }

    void countingArr(String l, String p, String c, String f, int score){
        String[] languages = new String[]{l, "-"};
        String[] parts = new String[]{p, "-"};
        String[] careers = new String[]{c,  "-"};
        String[] foods = new String[]{f, "-"};
        for(String language : languages){
            sb.append(language).append(" ");
            for(String part : parts){
                sb.append(part).append(" ");
                for(String career : careers){
                    sb.append(career).append(" ");
                    for(String food : foods){
                        sb.append(food);
                        map.get(sb.toString()).add(score);
                        sb.setLength(sb.length() - food.length());
                    }
                    sb.setLength(sb.length() - career.length() -1);
                }
                sb.setLength(sb.length() - part.length() -1);
            }
            sb.setLength(sb.length() - language.length() -1);
        }
    }

    void makeMap(){
        map = new HashMap<>();
        String[] languages = new String[]{"cpp", "java", "python", "-"};
        String[] parts = new String[]{"backend", "frontend", "-"};
        String[] careers = new String[]{"junior", "senior",  "-"};
        String[] foods = new String[]{"chicken", "pizza", "-"};
        for(String language : languages){
            sb.append(language).append(" ");
            for(String part : parts){
                sb.append(part).append(" ");
                for(String career : careers){
                    sb.append(career).append(" ");
                    for(String food : foods){
                        sb.append(food);
                        map.put(sb.toString() , new ArrayList());
                        sb.setLength(sb.length() - food.length());
                    }
                    sb.setLength(sb.length() - career.length() -1);
                }
                sb.setLength(sb.length() - part.length() -1);
            }
            sb.setLength(sb.length() - language.length() -1);
        }
    }
}
```
