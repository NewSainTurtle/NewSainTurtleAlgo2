## [ğŸ¥](https://www.acmicpc.net/problem/14567) [bj14567] ì„ ìˆ˜ê³¼ëª©(Prerequisite)

> **ì†Œìš” ì‹œê°„: 24ë¶„<br>
> ë©”ëª¨ë¦¬: 130952KB<br>
> ì‹œê°„: 580ms**

## ë¬¸ì œ ì ‘ê·¼
- `beforeCounts[i]`: `i` ì „ì— ìˆ˜ê°•í•´ì•¼í•˜ëŠ” ì„ ìˆ˜ê³¼ëª© ìˆ˜ ì €ì¥
- `afterLesson[i]`: `i` ê³¼ëª© ì´í›„ì— ìˆ˜ê°•í•  ìˆ˜ ìˆëŠ” ê³¼ëª©, ë¦¬ìŠ¤íŠ¸ë¡œ ì €ì¥
## ë¬¸ì œ í’€ì´
1. ì…ë ¥ì„ ë‹¤ ë°›ì€ ìˆ˜ `checkLesson()` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ì„œ ê° ê³¼ëª© ë³„ ìµœì†Œ í•™ê¸°ë¥¼ ì²´í¬í•œë‹¤.
2. `lessonCount`ëŠ” `round`í•™ê¸°ê¹Œì§€ ë‚¨ì€ ê³¼ëª© ìˆ˜ë¥¼ ì €ì¥í•œë‹¤. `N`ìœ¼ë¡œ ì´ˆê¸°í™”í•œë‹¤.
3. `lessonInfo`ëŠ” ê³¼ëª© ë³„ ìµœì†Œ í•™ê¸°ë¥¼ ì €ì¥í•œë‹¤.
4. `queue`ëŠ” `round`í•™ê¸°ì— ìˆ˜ê°•í•˜ëŠ” ê³¼ëª©ì„ ì €ì¥í•œë‹¤.
5. í•™ê¸°ë¥¼ í‘œì‹œí•˜ëŠ” `round`ë¥¼ 1ë¶€í„° `lessonCount`ê°€ 0ì´ ë  ë•Œê¹Œì§€ ì¦ê°€ì‹œì¼œê°€ë©° ë°˜ë³µí•œë‹¤.
	1. ê³¼ëª©ë“¤ì„ íƒìƒ‰í•˜ë©°, ìˆ˜ê°•í•˜ì§€ ì•Šì€ ê³¼ëª© ì¤‘ ì„ ìˆ˜ê³¼ëª©ì´ 0ì´ëœ ê³¼ëª©ì„ `queue`ì— ë„£ëŠ”ë‹¤.
	2. `queue`ê°€ ë¹„ì–´ìˆì„ë•Œê¹Œì§€ ë°˜ë³µí•œë‹¤.
		1. `queue`ì—ì„œ ê°’ì„ ë¹¼ì„œ `node`ì— ì €ì¥í•˜ê³ , `node`ì˜ `lessonInfo`ì— ìµœì†Œ í•™ê¸°ì¸ `round`ë¥¼ ì €ì¥í•œë‹¤.
		2. `afterLesson[node]`ì„ íƒìƒ‰í•˜ë©°, í•´ë‹¹ ì›ì†Œì˜ `beforeCounts`ì—ì„œ 1ì„ ëº€ë‹¤. (`node`ë¥¼ ìˆ˜ê°•í•´ì•¼í•  ì„ ìˆ˜ê³¼ëª©ì—ì„œ ì—†ì•°)
		3. `node`ë¥¼ ìˆ˜ê°•í–ˆìœ¼ë‹ˆ, `lessonCount`ë¥¼ 1 ì¤„ì¸ë‹¤.
6. `lessonInfo` ë°˜í™˜í•˜ê³ , ì´ë¥¼ ì¶œë ¥í•œë‹¤.

## ì „ì²´ ì½”ë“œ
```java
import java.io.BufferedReader;  
import java.io.InputStreamReader;  
import java.util.*;  
  
public class Main_14567 {  
    static int N;  
    static int[] beforeCounts;  
    static List<Integer>[] afterLesson;  
  
    public static void main(String[] args) throws Exception {  
        init();  
        int[] lessonInfo = checkLesson();  
        StringBuilder sb = new StringBuilder();  
        for (int n = 1; n <= N; n++) {  
            sb.append(lessonInfo[n]).append(" ");  
        }  
        System.out.print(sb);  
    }  
  
    static void init() throws Exception {  
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));  
        StringTokenizer st = new StringTokenizer(br.readLine(), " ");  
        N = Integer.parseInt(st.nextToken());  
        int M = Integer.parseInt(st.nextToken());  
  
        beforeCounts = new int[N + 1];  
        afterLesson = new ArrayList[N + 1];  
        for (int n = 1; n <= N; n++) {  
            afterLesson[n] = new ArrayList<>();  
        }  
  
        while (0 < M--) {  
            st = new StringTokenizer(br.readLine(), " ");  
            int A = Integer.parseInt(st.nextToken());  
            int B = Integer.parseInt(st.nextToken());  
  
            beforeCounts[B]++;  
            afterLesson[A].add(B);  
        }  
    }  
  
    static int[] checkLesson() {  
        int lessonCount = N;  
        int[] lessonInfo = new int[N + 1];  
        Queue<Integer> queue = new LinkedList<>();  
  
        for (int round = 1; 0 < lessonCount; round++) {  
            for (int n = 1; n <= N; n++) {  
                if (lessonInfo[n] == 0 && beforeCounts[n] == 0) {  
                    queue.add(n);  
                }  
            }  
            while (!queue.isEmpty()) {  
                int node = queue.poll();  
                lessonInfo[node] = round;  
                for (int item : afterLesson[node]) {  
                    beforeCounts[item]--;  
                }  
                lessonCount--;  
            }  
        }  
        return lessonInfo;  
    }  
}
```
