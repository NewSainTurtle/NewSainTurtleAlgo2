## [ğŸŒ](https://www.acmicpc.net/problem/14938) [bj14938] ì„œê°•ê·¸ë¼ìš´ë“œ

> **ì†Œìš” ì‹œê°„: 24ë¶„<br>
> ë©”ëª¨ë¦¬: 11980KB<br>
> ì‹œê°„: 104ms**
## ë¬¸ì œ ì ‘ê·¼
- ëª¨ë“  ì •ì ì„  ë‚™í•˜ ì§€ì ìœ¼ë¡œ ì¡ê³  ìµœëŒ€ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ì•„ì´í…œ ìˆ˜ë¥¼ ê³„ì‚°í•˜ëŠ” ë¬¸ì œì˜€ê¸° ë•Œë¬¸ì— `í”Œë¡œì´ë“œ-ì›Œì…œ`ë¡œ ë¬¸ì œë¥¼ í’€ì—ˆë‹¤.
  - ì…ë ¥ë°›ìœ¼ë©´ì„œ `M`ë³´ë‹¤ í° ê²½ìš°ëŠ” ì–´ì°¨í”¼ ê°ˆ ìˆ˜ ì—†ëŠ” ê¸¸ì´ë¯€ë¡œ ë²„ë ¸ë‹¤.
- í’€ë©´ì„œ 'ì£¼ë³€ `M`ì´ë‚´ì˜ ì•„ì´í…œë§Œ ê°€ì§ˆ ìˆ˜ ìˆë‹¤'ëŠ” ì¡°ê±´ì´ ìˆì–´ì„œ `bfs`ë¥¼ í™œìš©í•´ì„œ ë¬¸ì œë¥¼ í’€ ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤ëŠ” ìƒê°ì„ í–ˆë‹¤.
  - ì •ì ê³¼ ì •ì  ì‚¬ì´ ê±°ë¦¬ë¥¼ ìµœì†Œë¡œ ë§Œë“¤ì–´ì•¼í–ˆê¸° ë•Œë¬¸ì— bfs ë°©ë¬¸ì²˜ë¦¬ëŠ” íì— ë„£ì„ ë•Œ ë°”ë¡œ í•˜ì§€ ì•Šê³ ,
  - íì—ì„œ ëº„ë•Œ ë°©ë¬¸í•œ ì •ì ì´ë©´ ë‹¤ìŒìœ¼ë¡œ ë„˜ì–´ê°€ê³ , ë°©ë¬¸í•˜ì§€ ì•Šì€ ì •ì ì´ë©´ ë°©ë¬¸ì²˜ë¦¬ í›„ ì£¼ë³€ ì •ì ì„ í™•ì¸í•˜ë„ë¡ êµ¬í˜„í–ˆë‹¤.
  - ê°™ì€ ì´ìœ ë¡œ, íë„ ì¼ë°˜íê°€ ì•„ë‹Œ ìš°ì„ ìˆœìœ„íë¥¼ ì‚¬ìš©í•˜ì—¬ ê±°ë¦¬ê°€ ì§§ì€ ì •ì ë¶€í„° í™•ì¸í•˜ë„ë¡ í–ˆë‹¤.
  
## ğŸ… í”Œë¡œì´ë“œ-ì›Œì…œ
```java
import java.io.BufferedReader;  
import java.io.InputStreamReader;  
import java.util.Arrays;  
import java.util.StringTokenizer;  
  
public class Main {  
    static final int INF = 987654321;  
    static int N, M, R;  
    static int[] items;  
    static int[][] dists;  
  
    public static void main(String[] args) throws Exception {  
        init();  
        System.out.println(floydWarshall());  
    }  
  
    static void init() throws Exception {  
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));  
        StringTokenizer st = new StringTokenizer(br.readLine(), " ");  
        N = Integer.parseInt(st.nextToken());  
        M = Integer.parseInt(st.nextToken());  
        R = Integer.parseInt(st.nextToken());  
  
        st = new StringTokenizer(br.readLine(), " ");  
        items = new int[N];  
        dists = new int[N][N];  
        for (int n = 0; n < N; n++) {  
            items[n] = Integer.parseInt(st.nextToken());  
            Arrays.fill(dists[n], INF);  
            dists[n][n] = 0;  
        }  
  
        for (int r = 0; r < R; r++) {  
            st = new StringTokenizer(br.readLine(), " ");  
            int a = Integer.parseInt(st.nextToken()) - 1;  
            int b = Integer.parseInt(st.nextToken()) - 1;  
            int dist = Integer.parseInt(st.nextToken());  
            if (dist <= M) dists[a][b] = dists[b][a] = dist;  
        }  
    }  
  
    static int floydWarshall() {  
        for (int k = 0; k < N; k++) {  
            for (int i = 0; i < N; i++) {  
                for (int j = 0; j < N; j++) {  
                    if (dists[i][j] == INF && dists[i][k] + dists[k][j] <= M) {  
                        dists[i][j] = dists[i][k] + dists[k][j];  
                    }  
                }  
            }  
        }  
  
        int max = 0;  
        for (int i = 0; i < N; i++) {  
            int cost = 0;  
            for (int j = 0; j < N; j++) {  
                if (dists[i][j] <= M) cost += items[j];  
            }  
            if (max < cost) max = cost;  
        }  
        return max;  
    }  
}
```

## ğŸ… BFS
``` java
import java.io.BufferedReader;  
import java.io.InputStreamReader;  
import java.util.*;  
  
public class Main {  
    static int N, M, R;  
    static int[] items;  
    static List<int[]>[] dists;  
  
    public static void main(String[] args) throws Exception {  
        init();  
        System.out.println(bfs());  
    }  
  
    static void init() throws Exception {  
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));  
        StringTokenizer st = new StringTokenizer(br.readLine(), " ");  
        N = Integer.parseInt(st.nextToken());  
        M = Integer.parseInt(st.nextToken());  
        R = Integer.parseInt(st.nextToken());  
  
        st = new StringTokenizer(br.readLine(), " ");  
        items = new int[N];  
        dists = new ArrayList[N];  
        for (int n = 0; n < N; n++) {  
            items[n] = Integer.parseInt(st.nextToken());  
            dists[n] = new ArrayList<>();  
        }  
  
        for (int r = 0; r < R; r++) {  
            st = new StringTokenizer(br.readLine(), " ");  
            int a = Integer.parseInt(st.nextToken()) - 1;  
            int b = Integer.parseInt(st.nextToken()) - 1;  
            int dist = Integer.parseInt(st.nextToken());  
            if (dist <= M) {  
                dists[a].add(new int[]{b, dist});  
                dists[b].add(new int[]{a, dist});  
            }  
        }  
    }  
  
    static int bfs() {  
        int max = 0;  
        PriorityQueue<int[]> pq = new PriorityQueue<>(Comparator.comparingInt(o -> o[1]));  
  
        for (int n = 0; n < N; n++) {  
            boolean[] visited = new boolean[N];  
  
            pq.add(new int[]{n, 0});  
            int cost = 0;  
  
            while (!pq.isEmpty()) {  
                int[] node = pq.poll();  
                if (visited[node[0]]) continue;  
  
                visited[node[0]] = true;  
                cost += items[node[0]];  
  
                for (int[] dist : dists[node[0]]) {  
                    if (!visited[dist[0]] && node[1] + dist[1] <= M) {  
                        pq.add(new int[]{dist[0], node[1] + dist[1]});  
                    }  
                }  
            }  
            if (max < cost) max = cost;  
        }  
        return max;  
    }  
}
```
